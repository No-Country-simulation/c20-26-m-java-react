import{r as d,u as q,P as t,j as e}from"./index-CYFHtQBJ.js";import{c as F,a as i}from"./index.esm-DMh-PEsH.js";const P=()=>{const[r,h]=d.useState({name:"",species:"",race:"",gender:"",age:"",vaccinated:"",detalle:"",behavior:"",file:null}),[m,c]=d.useState({}),[x,b]=d.useState({}),[u,v]=d.useState(null),g=q(),p=F().shape({name:i().required(),species:i().required(),race:i().required(),gender:i().required(),age:i().required(),vaccinated:i().required(),detalle:i(),behavior:i().required()}),f=n=>{const{name:s,value:a}=n.target;h({...r,[s]:a})},N=n=>{const{name:s}=n.target;b({...x,[s]:!0}),p.validateAt(s,r).then(()=>{c({...m,[s]:void 0})}).catch(a=>{c({...m,[s]:a.message})})},y=async n=>{n.preventDefault();try{await p.validate(r,{abortEarly:!1}),c({}),console.log(r)}catch(s){const a={};s.inner.forEach(o=>{a[o.path]=o.message}),c(a)}},w=n=>{const s=n.target.files[0];h({...r,file:s});const a=new FileReader;a.onloadend=()=>{v(a.result)},s&&a.readAsDataURL(s)},l=({label:n,name:s,type:a="text",as:o,children:C,...j})=>{const S=o||"input",E=!!m[s]&&x[s];return e.jsx("div",{className:"inputContainer",children:e.jsx(S,{name:s,type:a,value:r[s],onChange:f,onBlur:N,style:{border:E?"2px solid red":"1px solid black",padding:"0.375rem 0.75rem",borderRadius:"8px"},placeholder:n,className:`form-control ${j.className} rounded-pill`,...j,children:C})})};return l.propTypes={label:t.string.isRequired,type:t.string,name:t.string.isRequired,className:t.string,as:t.elementType,children:t},e.jsxs("form",{className:"text-center",onSubmit:y,children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-auto",style:{position:"absolute",top:"3rem",left:"40px"},children:e.jsx("i",{className:"bi bi-chevron-left",onClick:()=>g("/login"),style:{fontSize:"35px"}})})}),e.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"card rounded-4 shadow-lg p-3",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"mb-4",children:"Registro de Mascota"}),e.jsxs("div",{className:"mb-5 d-flex flex-column align-items-center",children:[u?e.jsx("img",{src:u,className:"rounded-circle mb-2",style:{width:"100px",height:"100px",objectFit:"cover"},alt:"Vista previa"}):e.jsx("div",{className:"rounded-circle bg-secondary d-flex justify-content-center align-items-center mb-2",style:{width:"100px",height:"100px"},children:e.jsx("i",{className:"bi bi-person-circle mb-5",style:{fontSize:"48px",color:"#fff"}})}),e.jsx("label",{htmlFor:"file",className:"btn btn-outline-primary rounded-pill",children:u?"Cambiar foto":"Subir foto"}),e.jsx("input",{id:"file",type:"file",style:{display:"none"},onChange:w,accept:"image/*"})]}),e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6 mb-2",children:e.jsx(l,{label:"Nombre",name:"name"})}),e.jsx("div",{className:"col-md-6 mb-2",children:e.jsx(l,{label:"Especie",name:"species"})}),e.jsx("div",{className:"col-md-6 mb-2",children:e.jsx(l,{label:"Raza",name:"race"})}),e.jsx("div",{className:"col-md-6 mb-2",children:e.jsxs(l,{label:"Género",name:"gender",as:"select",children:[e.jsx("option",{value:"",disabled:!0,children:"Género"}),e.jsx("option",{value:"femenino",children:"Femenino/a"}),e.jsx("option",{value:"masculino",children:"Masculino/a"})]})}),e.jsx("div",{className:"col-md-6 mb-2",children:e.jsx(l,{label:"Edad",name:"age"})}),e.jsx("div",{className:"col-md-6 mb-2",children:e.jsxs(l,{label:"¿Vacunado?",name:"vaccinated",as:"select",children:[e.jsx("option",{value:"",disabled:!0,children:"¿Vacunado?"}),e.jsx("option",{value:"si",children:"Sí"}),e.jsx("option",{value:"no",children:"No"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx(l,{label:"Detalle",name:"detalle"})}),e.jsx("div",{className:"col-md-6 mb-2",children:e.jsxs(l,{label:"Comportamiento",name:"behavior",as:"select",children:[e.jsx("option",{value:"",disabled:!0,children:"Comportamiento"}),e.jsx("option",{value:"bueno",children:"Bueno"}),e.jsx("option",{value:"regular",children:"Regular"}),e.jsx("option",{value:"malo",children:"Malo"})]})})]}),e.jsx("button",{type:"submit",className:"btn btn-warning w-100 rounded-pill mt-4",children:"Enviar"})]})})})})})})]})};export{P as default};
