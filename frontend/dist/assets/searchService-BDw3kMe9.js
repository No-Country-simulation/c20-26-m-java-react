import{j as e,P as a,a as C,u as S,r as x}from"./index-CYFHtQBJ.js";import{D as A}from"./services-DcUzcjXP.js";const f=({txt:t,action:l})=>e.jsx("button",{type:"submit",className:"formButton",onClick:l,children:t}),y=({photo:t,name:l,typeService:h,price:r,city:c,textInfo:d,tags:o})=>e.jsxs("div",{className:"cardSearchWrapper",children:[e.jsxs("div",{className:"searchPersonalInfo",children:[e.jsx("div",{className:"searchPhotoContainer",children:e.jsx("img",{src:t,alt:"personalPhoto"})}),e.jsx("p",{children:l})]}),e.jsxs("div",{className:"searchInfo",children:[e.jsxs("div",{className:"searchService",children:[e.jsxs("div",{children:[e.jsx("h4",{children:h}),e.jsx("p",{children:c})]}),e.jsxs("h4",{children:["$",r]})]}),e.jsx("p",{children:d}),e.jsx("div",{className:"tagsContainer",children:o.map((i,p)=>e.jsx("div",{className:"tagWrapper",children:e.jsx("p",{children:i})},p))}),e.jsx("div",{className:"buttonContainer",children:e.jsx(f,{txt:"Contratar"})})]})]});y.propTypes={photo:a.string.isRequired,name:a.string.isRequired,typeService:a.string.isRequired,price:a.number.isRequired,city:a.string.isRequired,textInfo:a.string.isRequired,tags:a.arrayOf(a.string).isRequired};const b=()=>{var m,v;const t=C(),l=S(),h=A,[r,c]=x.useState(((m=t.state)==null?void 0:m.filter)||"All"),[d,o]=x.useState("All");x.useEffect(()=>{var s;(s=t.state)!=null&&s.filter&&c(t.state.filter)},[(v=t.state)==null?void 0:v.filter]);const i=s=>{c(s.target.value)},p=s=>{if(s.target.value===""){o("All");return}else o(s.target.value)},j=h.map(s=>{const u=s.typeService.filter(n=>n.type===r||r==="All");return u.length===0||d!=="All"&&!s.city.toLowerCase().startsWith(d.toLowerCase())?null:{...s,typeService:u}}).filter(s=>s!==null),g=()=>{c("All"),o("All"),document.querySelector(".input-text").value=""};return e.jsxs("div",{className:"SearchServiceWrapper",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-auto",style:{position:"absolute",top:"3rem",left:"40px"},children:e.jsx("i",{className:"bi bi-chevron-left",onClick:()=>l("/user"),style:{fontSize:"35px"}})})}),e.jsxs("div",{className:"searchCategories",children:[e.jsx("p",{style:{textAlign:"center",marginBottom:"10px"},children:"Filtros"}),e.jsxs("div",{className:"radioInputContainer",children:[e.jsxs("div",{className:"searchInput",children:[e.jsx("input",{type:"radio",value:"All",checked:r==="All",onChange:i}),e.jsx("p",{children:"Todo"})]}),e.jsxs("div",{className:"searchInput",children:[e.jsx("input",{type:"radio",value:"Guarderia",checked:r==="Guarderia",onChange:i}),e.jsx("p",{children:"Guarderia"})]}),e.jsxs("div",{className:"searchInput",children:[e.jsx("input",{type:"radio",value:"Paseador",checked:r==="Paseador",onChange:i}),e.jsx("p",{children:"Paseador"})]}),e.jsxs("div",{className:"searchInput",children:[e.jsx("input",{type:"radio",value:"Veterinaria",checked:r==="Veterinaria",onChange:i}),e.jsx("p",{children:"Veterinaria"})]})]}),e.jsx("div",{children:e.jsx("input",{className:"input-text",type:"text",placeholder:"Buscar por ciudad",onChange:p})}),e.jsx("div",{className:"serchBtnContainer",children:e.jsx(f,{txt:"Limpiar",action:g})})]}),e.jsx("div",{className:"serviceCardContainer",children:j.length===0?e.jsx("p",{children:"No hay servicios disponibles"}):j.map((s,u)=>s.typeService.map((n,N)=>e.jsx(y,{photo:s.photo,name:s.name,typeService:n.type,price:n.price,city:s.city,textInfo:n.textInfo,tags:n.tags},N)))})]})};export{b as default};
